import{w}from"./with-props-b1i4h9El.js";import{r as o,l as e,p as y}from"./chunk-D52XG6IA-DVTnw_rV.js";import{I as S}from"./input-CuhXqZKM.js";import{u as F}from"./use-toast-rhCGJxoN.js";import{P as z}from"./password-input-5ZAPlaK2.js";import{o as I,s as p,u as C,F as R,a as x,b as u,c as f,d as h,e as j,L,t as M}from"./loading-button-BQfSeoJ5.js";import{u as P}from"./AuthContext-BA6Rtxkc.js";import{c as b}from"./utils-CBmQbvEb.js";import{R as g,I as T}from"./index-B7XgfpAg.js";import{C as E}from"./icons-kazulAEJ.js";import{C as A}from"./card-CTjxlscv.js";import"./index-B3XE2UaP.js";import"./label-BV3ipPG8.js";import"./index-DE-pzLVP.js";import"./index-DLfo2w2A.js";import"./index-CoB-VLMc.js";import"./index-BzlDct7J.js";import"./loader-circle-C0w-6Ez6.js";import"./createLucideIcon-BizpdrYR.js";import"./index-Due4X9lb.js";import"./x-DdXwIeoP.js";import"./plus-R4PAUIF5.js";import"./chevron-down-CwBKgljo.js";const v=o.forwardRef(({className:i,...t},r)=>e.jsx(g,{ref:r,className:b("peer h-4 w-4 shrink-0 rounded-sm border border-zinc-200 border-zinc-900 shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-zinc-900 data-[state=checked]:text-zinc-50 dark:border-zinc-800 dark:border-zinc-50 dark:focus-visible:ring-zinc-300 dark:data-[state=checked]:bg-zinc-50 dark:data-[state=checked]:text-zinc-900",i),...t,children:e.jsx(T,{className:b("flex items-center justify-center text-current"),children:e.jsx(E,{className:"h-4 w-4"})})}));v.displayName=g.displayName;const B=I({username:p().min(2).optional(),password:p().min(2).max(100).optional()});function q(){const i=y(),t=C({resolver:M(B)}),[r,l]=o.useState(!1),[n,k]=o.useState(!1),{toast:c}=F(),{login:d}=P(),N=async s=>{l(!0);try{const{username:a,password:m}=s;a&&m?await d(a,m)?i("/admin/contract"):c({title:"Σφάλμα",description:"Λάθος στοιχεία σύνδεσης",variant:"destructive"}):(await d(void 0,void 0),i("/vote"),c({title:"Επιτυχία",description:"Επιτυχής Σύνδεση.",variant:"default"}))}catch(a){console.error(a),c({title:"Σφάλμα",description:"Κάτι πήγε στραβά",variant:"destructive"})}finally{l(!1)}};return e.jsx("div",{className:"grid gap-6",children:e.jsx(R,{...t,children:e.jsx("form",{className:"space-y-4",onSubmit:t.handleSubmit(N),children:e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"grid gap-2",children:[!n&&e.jsx(x,{control:t.control,name:"username",render:({field:s})=>e.jsxs(u,{children:[e.jsx(f,{children:"Όνομα Χρήστη"}),e.jsx(h,{children:e.jsx(S,{...s,placeholder:"Όνομα Χρήστη",disabled:r})}),e.jsx(j,{})]})}),!n&&e.jsx(x,{control:t.control,name:"password",render:({field:s})=>e.jsxs(u,{children:[e.jsx(f,{children:"Κωδικός Πρόσβασης"}),e.jsx(h,{children:e.jsx(z,{...s,placeholder:"Κωδικός Πρόσβασης",disabled:r})}),e.jsx(j,{})]})}),e.jsx(L,{loading:r,disabled:r,type:"submit",className:"w-full mt-2",children:"Σύνδεση"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"terms",checked:n,onClick:()=>k(s=>!s)}),e.jsx("label",{htmlFor:"terms",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Σύνδεση με Metamask"})]})]})})})})})}function D(){return e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(A,{className:"p-8",children:e.jsxs("div",{className:"mx-auto flex  flex-col justify-center space-y-6 w-[350px] ",children:[e.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Σύνδεση"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Εισάγετε τα στοιχεία σύνδεσής σας"})]}),e.jsx(o.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(q,{})})]})})})}function le({}){return[{title:"Σύνδεση"},{name:"description",content:"Συνδεθείτε στην ψηφοφορία"}]}const de=w(function(){return e.jsx(D,{})});export{de as default,le as meta};
